slam_toolbox:
  ros__parameters:
    # Modo: mapping (para crear mapa nuevo)
    mode: mapping

    # Frames clave (usa base_footprint si quieres consistencia con Nav2 estándar)
    odom_frame: odom
    map_frame: map
    base_frame: base_footprint   # ← ¡Importante! Tu URDF lo tiene
    scan_topic: /scan

    # Para simulación
    use_sim_time: true

    # Publicar TF map → odom
    publish_tf: true
    # No publica odom → base (lo hace Gazebo)
    provide_odom_frame: false   # ← clave para evitar duplicados

    # Sensibilidad (baja para pruebas)
    minimum_travel_distance: 0.1
    minimum_travel_heading: 0.1
    transform_publish_period: 0.05
    map_update_interval: 1.0